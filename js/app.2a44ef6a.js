(function(t){function e(e){for(var i,r,a=e[0],l=e[1],c=e[2],m=0,v=[];m<a.length;m++)r=a[m],o[r]&&v.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,a=1;a<s.length;a++){var l=s[a];0!==o[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},o={app:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var h=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},aed0:function(t,e,s){},b0ec:function(t,e,s){t.exports=function(){return new Worker(s.p+"6c013a2a0751d7d1b85a.worker.js")}},cd49:function(t,e,s){"use strict";s.r(e);s("e792");var i=s("2b0e"),o=s("ce5b"),n=s.n(o);s("bf40");i["default"].use(n.a,{iconfont:"md",theme:{primary:"#607d8b",secondary:"#424242",accent:"#fb8c00",error:"#d84315",info:"#0277bd",success:"#558b2f",warning:"#fb8c00"}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-navigation-drawer",{attrs:{floating:"",clipped:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("Device")],1),s("v-toolbar",{attrs:{app:"","clipped-left":"",color:"secondary",dark:""}},[s("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("v-toolbar-title",[t._v("Smart Cube")])],1),s("v-content",[s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",column:""}},[s("Scramble",{attrs:{game:t.game}}),s("SolveTimer",{attrs:{game:t.game}}),s("v-container",{attrs:{"grid-list-xl":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("Inspection")],1),s("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[s("Cross")],1),s("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[s("F2L")],1),s("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[s("OLL")],1),s("v-flex",{attrs:{xs12:"",sm6:"",lg3:""}},[s("PLL")],1),s("v-flex",{attrs:{xs12:""}},[s("AUF")],1),s("v-flex",{attrs:{xs12:""}},[s("Results",{attrs:{game:t.game}})],1)],1)],1)],1)],1)],1),s("v-footer",{attrs:{app:"",fixed:"",dark:"",color:"secondary"}},[s("v-layout",{attrs:{"justify-space-around":""}},[s("div",[s("v-icon",{attrs:{small:"",color:"accent"}},[t._v(t._s(t.connected?"bluetooth_connected":"bluetooth_disabled"))]),t._v(" "+t._s(t.connected?"Connected ["+t.cubeName+"]":"Disconnected"))],1),s("div",{staticClass:"hidden-sm-and-down"},[t._v("State: "+t._s(t.state))]),s("div",[s("a",{staticClass:"subheading font-weight-light white--text",attrs:{href:"mailto:avaver@gmail.com"}},[t._v("avaver@gmail.com")])])])],1),s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.nobluetooth,callback:function(e){t.nobluetooth=e},expression:"nobluetooth"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("Ooops!")]),s("v-card-text",[t._v("It seems your browser doesn't support bluetooth web api. Try checking "),s("a",{attrs:{href:"https://www.google.com/chrome/canary/"}},[t._v("Chrome Canary")]),t._v(" for your platform.")])],1)],1),s("v-snackbar",{attrs:{timeout:t.snackbarTimeout,color:t.snackbarColor},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        "+t._s(t.snackbarText)+"\n        "),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},a=[],l=s("9ab4"),c=s("60a3");const h=new i["default"],m={error:"error",cubeConnect:"cube-connect",cubeDisconnect:"cube-disconnect",cubeState:"cube-state",cubeReset:"cube-reset",cubeScrambled:"cube-scrambled",solveStarted:"solve-started",solveCancelled:"solve-cancelled",cubeSolved:"cube-solved",cfopCross:"cfop-cross",cfopF2l:"cfop-f2l",cfopOll:"cfop-oll",cfopPll:"cfop-pll"};class v{constructor(t,e=!1){this.level=t,this.charging=e}}var d;(function(t){const e={cubeService:"0000aadb-0000-1000-8000-00805f9b34fb",configService:"0000aaaa-0000-1000-8000-00805f9b34fb",cubeCharacteristic:"0000aadc-0000-1000-8000-00805f9b34fb",configCharacteristic:"0000aaac-0000-1000-8000-00805f9b34fb",infoCharacteristic:"0000aaab-0000-1000-8000-00805f9b34fb"},s=204,i=181,o=161;let n,r,a,c,h,m,d=0;function u(){return!!window.navigator.bluetooth}function p(){return!!(n&&n.gatt&&n.gatt.connected)}function f(t,o,v,d){return l["a"](this,void 0,void 0,function*(){c=t,h=o,m=v;const l=[{namePrefix:"Gi"}],u=[e.cubeService,e.configService];n=yield navigator.bluetooth.requestDevice({filters:l,optionalServices:u}),n.ongattserverdisconnected=d;const p=yield n.gatt.connect(),f=yield p.getPrimaryService(e.cubeService),b=yield p.getPrimaryService(e.configService);r=yield f.getCharacteristic(e.cubeCharacteristic),a=yield b.getCharacteristic(e.configCharacteristic);const g=yield b.getCharacteristic(e.infoCharacteristic);return yield g.startNotifications(),g.oncharacteristicvaluechanged=S,yield a.writeValue(Uint8Array.of(s)),yield a.writeValue(Uint8Array.of(i)),yield r.startNotifications(),r.oncharacteristicvaluechanged=w,r.readValue(),n.name})}function b(){return l["a"](this,void 0,void 0,function*(){return new Promise((t,e)=>l["a"](this,void 0,void 0,function*(){p()?(yield n.gatt.disconnect(),setTimeout(t,4e3)):e("there are no connected devices")}))})}function g(){return l["a"](this,void 0,void 0,function*(){if(!p())throw new Error("there are no connected devices");yield a.writeValue(Uint8Array.of(o)),yield a.writeValue(Uint8Array.of(s))})}function S(t){const e=new Uint8Array(t.target.value.buffer);14===e.length&&(e[0]===s&&h?(d=e[1]<<24|e[2]<<16|e[3]<<8|e[4],h(d)):e[0]===i&&m&&m(new v(e[1],2===e[2])))}function w(t){d++,c&&c(new Uint8Array(t.target.value.buffer)),h&&h(d)}t.available=u,t.connected=p,t.connect=f,t.disconnect=b,t.reset=g})(d||(d={}));var u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",[t.connected?[s("v-list-tile",{staticClass:"pb-1",attrs:{avatar:""}},[s("v-list-tile-avatar",[s("v-icon",{staticClass:"primary white--text"},[t._v("grid_on")])],1),s("v-list-tile-title",[t._v("\n                "+t._s(t.name)+"\n            ")])],1),s("v-divider"),s("v-list-tile",{staticClass:"pt-1"},[s("v-list-tile-content",[t._v("\n                Steps\n            ")]),s("v-list-tile-action",[s("v-chip",[t._v(t._s(t.steps))])],1)],1),s("v-list-tile",[s("v-list-tile-content",[t._v("\n                Battery\n            ")]),s("v-list-tile-action",[s("v-chip",[t.battery.charging?s("v-icon",{staticClass:"pr-1",attrs:{small:"",color:"green"}},[t._v("battery_charging_full")]):t._e(),t._v(t._s(t.battery.level)+"%")],1)],1)],1),s("v-list-tile",{staticClass:"pt-3"},[s("v-btn",{attrs:{flat:"",color:"primary",disabled:t.loading||!t.connected},on:{click:t.reset}},[t._v("Reset")]),t._v("Â \n            "),s("v-btn",{attrs:{flat:"",color:"accent",loading:t.loading},on:{click:t.toggleConnect}},[t._v("Disconnect")])],1)]:s("v-list-tile",[s("v-layout",{attrs:{"justify-center":"",row:""}},[s("v-btn",{attrs:{flat:"",loading:t.loading,color:"accent",disabled:!t.bluetooth},on:{click:t.toggleConnect}},[t._v("Connect")])],1)],1)],2)},p=[];let f=class extends c["c"]{constructor(){super(...arguments),this.bluetooth=!1,this.connected=!1,this.loading=!1,this.name="",this.steps=0,this.battery=new v(0)}mounted(){this.bluetooth=d.available()}toggleConnect(){return l["a"](this,void 0,void 0,function*(){this.doWithLoading(()=>l["a"](this,void 0,void 0,function*(){d.connected()?(yield d.disconnect(),this.connected=!1):(this.name=yield d.connect(this.onState,this.onSteps,this.onBattery,this.onDisconnect),h.$emit(m.cubeConnect,this.name),this.connected=!0)}))})}reset(){return l["a"](this,void 0,void 0,function*(){this.doWithLoading(()=>l["a"](this,void 0,void 0,function*(){this.connected&&(yield d.reset(),h.$emit(m.cubeReset))}))})}doWithLoading(t){return l["a"](this,void 0,void 0,function*(){this.loading=!0;try{yield t()}catch(e){h.$emit(m.error,e)}finally{this.loading=!1}})}onState(t){h.$emit(m.cubeState,t)}onSteps(t){this.steps=t}onBattery(t){this.battery=t}onDisconnect(t){this.connected=!1,h.$emit(m.cubeDisconnect,this.name)}};f=l["b"]([c["a"]],f);var b=f,g=b,S=s("2877"),w=Object(S["a"])(g,u,p,!1,null,null,null),y=w.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.game.scrambling?s("v-layout",{attrs:{"justify-start":"","align-center":"",column:""}},[s("v-flex",{staticClass:"card-scramble",attrs:{xs12:""}},[t.game.working?s("v-card",[s("v-card-title",[s("h3",[t._v(t._s(t.game.operation))]),s("v-progress-linear",{attrs:{indeterminate:!0}})],1)],1):s("v-card",[s("v-card-title",{staticClass:"headline"},[s("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[s("v-flex",[s("v-btn",{attrs:{flat:"",icon:"",color:"primary"},on:{click:function(e){return t.game.generateScramble()}}},[s("v-icon",[t._v("refresh")])],1)],1),t._l(t.game.scramble,function(e,i){return s("v-flex",{key:i,class:[{"grey--text":t.game.position>i}]},[t._v("\n                        "+t._s(e)+"\n                    ")])}),s("v-flex",[s("v-icon",{staticClass:"scramble_info",staticStyle:{cursor:"pointer","line-height":"28px!important"},nativeOn:{click:function(e){e.stopPropagation(),t.tooltip=!t.tooltip}}},[t._v("info")]),s("v-tooltip",{attrs:{bottom:"","open-delay":"0",activator:".scramble_info"},model:{value:t.tooltip,callback:function(e){t.tooltip=e},expression:"tooltip"}},[s("span",{staticClass:"subheading"},[t._v("\n                                - "),s("kbd",[t._v("U")]),t._v(" is "),s("strong",[t._v("white")]),t._v(" and "),s("kbd",[t._v("F")]),t._v(" is "),s("strong",[t._v("green")]),s("br"),t._v("\n                                - "),s("kbd",[t._v(t._s(t.game.solveTrigger.join(" ")))]),t._v(" to start solve without completing the scramble\n                            ")])])],1)],2)],1)],1)],1)],1):t._e()},T=[];let x=class extends c["c"]{constructor(){super(...arguments),this.tooltip=!1}};l["b"]([Object(c["b"])()],x.prototype,"game",void 0),x=l["b"]([c["a"]],x);var E=x,C=E,_=Object(S["a"])(C,I,T,!1,null,null,null),L=_.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"justify-start":"","align-center":"",column:""}},[s("v-flex",[s("v-flex",{staticClass:"display-4 font-weight-bold main_timer",staticStyle:{"text-align":"center"}},[s("span",[t._v(t._s((t.game.time/1e3).toFixed(3)))]),s("div",{staticClass:"cancel"},[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.game.active,expression:"game.active"}],attrs:{icon:"",ripple:""},on:{click:function(e){return t.game.cancel()}}},[s("v-icon",{attrs:{large:"",color:"accent"}},[t._v("cancel")])],1)],1)]),s("v-flex",{staticClass:"text-xs-center"},[s("v-chip",{attrs:{color:"blue-grey","text-color":"white"}},[s("v-avatar",{staticClass:"blue-grey darken-4"},[t._v(t._s(t.game.turns))]),t._v("\n                    turns\n                    ")],1),s("span",{staticClass:"spacer"}),s("v-chip",{attrs:{color:"blue-grey","text-color":"white"}},[s("v-avatar",{staticClass:"blue-grey darken-4"},[t._v(t._s(t.game.tps()))]),t._v("\n                    TPS\n                    ")],1)],1)],1)],1)},F=[];let R=class extends c["c"]{};l["b"]([Object(c["b"])()],R.prototype,"game",void 0),R=l["b"]([c["a"]],R);var P=R,U=P,A=(s("dee6"),Object(S["a"])(U,k,F,!1,null,"c0743052",null)),O=A.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-data-table",{attrs:{headers:t.headers,items:t.results,"hide-actions":!0},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.scramble))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.cross.toFixed(2)))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.f2l.toFixed(2)))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.oll.toFixed(2)))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.pll.toFixed(2)))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.auf.toFixed(2)))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.turns))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.tps))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.time.toFixed(2)))])]}}])})},B=[];const D={start:"mark-start",inspection:"mark-inspection",cross:"mark-cross",f2l1Inspection:"mark-f2l1i",f2l1Solve:"mark-f2l1s",f2l2Inspection:"mark-f2l2i",f2l2Solve:"mark-f2l2s",f2l3Inspection:"mark-f2l3i",f2l3Solve:"mark-f2l3s",f2l4Inspection:"mark-f2l4i",f2l4Solve:"mark-f2l4s",ollInspection:"mark-olli",ollSolve:"mark-olls",pllInspection:"mark-plli",pllSolve:"mark-plls",solved:"mark-solved"},N={inspection:"meas-inspection",cross:"meas-cross",f2l1Inspection:"meas-f2l1i",f2l1Solve:"meas-f2l1s",f2l2Inspection:"meas-f2l2i",f2l2Solve:"meas-f2l2s",f2l3Inspection:"meas-f2l3i",f2l3Solve:"meas-f2l3s",f2l4Inspection:"meas-f2l4i",f2l4Solve:"meas-f2l4s",ollInspection:"meas-olli",ollSolve:"meas-olls",pllInspection:"meas-plli",pllSolve:"meas-plls",auf:"meas-auf",solved:"meas-solved"};class W{static cubeScrambled(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cube scrambled"),window.performance.clearMarks(),window.performance.clearMeasures(),window.performance.mark(D.start)}static crossStarted(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cross started"),window.performance.mark(D.inspection),window.performance.measure(N.inspection,D.start,D.inspection)}static crossSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cross solved"),window.performance.mark(D.cross),window.performance.measure(N.cross,D.inspection,D.cross)}static f2l1Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #1 started"),window.performance.mark(D.f2l1Inspection),window.performance.measure(N.f2l1Inspection,D.cross,D.f2l1Inspection)}static f2l1Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #1 solved"),window.performance.mark(D.f2l1Solve),window.performance.measure(N.f2l1Solve,D.f2l1Inspection,D.f2l1Solve)}static f2l2Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #2 started"),window.performance.mark(D.f2l2Inspection),window.performance.measure(N.f2l2Inspection,D.f2l1Solve,D.f2l2Inspection)}static f2l2Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #2 solved"),window.performance.mark(D.f2l2Solve),window.performance.measure(N.f2l2Solve,D.f2l2Inspection,D.f2l2Solve)}static f2l3Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #3 started"),window.performance.mark(D.f2l3Inspection),window.performance.measure(N.f2l3Inspection,D.f2l2Solve,D.f2l3Inspection)}static f2l3Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #3 solved"),window.performance.mark(D.f2l3Solve),window.performance.measure(N.f2l3Solve,D.f2l3Inspection,D.f2l3Solve)}static f2l4Started(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #4 started"),window.performance.mark(D.f2l4Inspection),window.performance.measure(N.f2l4Inspection,D.f2l3Solve,D.f2l4Inspection)}static f2l4Solved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] F2L #4 solved"),window.performance.mark(D.f2l4Solve),window.performance.measure(N.f2l4Solve,D.f2l4Inspection,D.f2l4Solve)}static ollStarted(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] OLL started"),window.performance.mark(D.ollInspection),window.performance.measure(N.ollInspection,D.f2l4Solve,D.ollInspection)}static ollSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] OLL solved"),window.performance.mark(D.ollSolve),window.performance.measure(N.ollSolve,D.ollInspection,D.ollSolve)}static pllStarted(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] PLL started"),window.performance.mark(D.pllInspection),window.performance.measure(N.pllInspection,D.ollSolve,D.pllInspection)}static pllSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] PLL solved"),window.performance.mark(D.pllSolve),window.performance.measure(N.pllSolve,D.pllInspection,D.pllSolve)}static cubeSolved(){console.log("["+(window.performance.now()/1e3).toFixed(3)+"] cube solved"),window.performance.mark(D.solved),window.performance.measure(N.solved,D.inspection,D.solved),window.performance.measure(N.auf,D.pllSolve,D.solved)}static getInspectionTime(){return W.getTime(N.inspection,D.start)}static getCrossSolveTime(){return W.getTime(N.cross,D.inspection)}static getF2l1InspectionTime(){return W.getTime(N.f2l1Inspection,D.cross)}static getF2l1SolveTime(){return W.getTime(N.f2l1Solve,D.f2l1Inspection)}static getF2l2InspectionTime(){return W.getTime(N.f2l2Inspection,D.f2l1Solve)}static getF2l2SolveTime(){return W.getTime(N.f2l2Solve,D.f2l2Inspection)}static getF2l3InspectionTime(){return W.getTime(N.f2l3Inspection,D.f2l2Solve)}static getF2l3SolveTime(){return W.getTime(N.f2l3Solve,D.f2l3Inspection)}static getF2l4InspectionTime(){return W.getTime(N.f2l4Inspection,D.f2l3Solve)}static getF2l4SolveTime(){return W.getTime(N.f2l4Solve,D.f2l4Inspection)}static getOllInspectionTime(){return W.getTime(N.ollInspection,D.f2l4Solve)}static getOllSolveTime(){return W.getTime(N.ollSolve,D.ollInspection)}static getPllInspectionTime(){return W.getTime(N.pllInspection,D.ollSolve)}static getPllSolveTime(){return W.getTime(N.pllSolve,D.pllInspection)}static getAUFTime(){return W.getTime(N.auf,D.pllSolve)}static getSolveTime(){return W.getTime(N.solved,D.inspection)}static getEntry(t){const e=window.performance.getEntriesByName(t);return e.length?e[0].duration||e[0].startTime:0}static getTime(t,e){const s=W.getEntry(t),i=W.getEntry(e);return s||(i?window.performance.now()-i:0)}}let H=class extends c["c"]{constructor(){super(...arguments),this.localStorageKey="results",this.headers=[{text:"Scramble",align:"left",sortable:!1,value:"name"},{text:"Cross",value:"cross",align:"center"},{text:"F2L",value:"f2l",align:"center"},{text:"OLL",value:"oll",align:"center"},{text:"PLL",value:"pll",align:"center"},{text:"AUF",value:"auf",align:"center"},{text:"Turns",value:"turns",align:"center"},{text:"TPS",value:"tps",align:"center"},{text:"Time",value:"time",align:"center",sortable:!0}],this.results=[]}mounted(){h.$on(m.cubeSolved,()=>this.onCubeSolved()),this.loadResults()}seconds(t){return t/1e3}onCubeSolved(){this.results.unshift({scramble:this.game.scramble.join(" ")||"Unknown",cross:this.seconds(W.getCrossSolveTime()),f2l:this.seconds(W.getF2l1SolveTime()),oll:this.seconds(W.getOllSolveTime()),pll:this.seconds(W.getPllSolveTime()),auf:this.seconds(W.getAUFTime()),turns:this.game.turns,tps:this.game.tps(),time:this.game.time/1e3}),localStorage.setItem(this.localStorageKey,JSON.stringify(this.results))}loadResults(){try{const e=localStorage.getItem(this.localStorageKey);e&&(this.results=JSON.parse(e))}catch(t){this.results=[]}}};l["b"]([Object(c["b"])()],H.prototype,"game",void 0),H=l["b"]([c["a"]],H);var G=H,Y=G,j=Object(S["a"])(Y,$,B,!1,null,null,null),M=j.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"card-inspection",attrs:{color:"blue-grey lighten-4",ripple:""}},[s("v-card-title",{staticClass:"display-2"},[t._v("\n        Inspection"),s("v-spacer"),t._v(t._s((t.time/1e3).toFixed(2))+"\n    ")],1)],1)},q=[];let V=class extends c["c"]{constructor(){super(...arguments),this.time=0,this.active=!1}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveStarted,()=>this.onSolveStarted()),h.$on(m.solveCancelled,()=>this.stop())}onCubeScrambled(){this.time=0,this.active=!0,window.requestAnimationFrame(this.timer)}onSolveStarted(){this.stop(),this.time=W.getInspectionTime()}timer(){this.time=W.getInspectionTime(),this.active&&window.requestAnimationFrame(this.timer)}stop(){this.active=!1}};V=l["b"]([c["a"]],V);var J=V,K=J,Q=Object(S["a"])(K,z,q,!1,null,null,null),X=Q.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"card-cross",attrs:{color:"blue-grey darken-1",dark:"",ripple:""},nativeOn:{click:function(e){t.details=!0}}},[s("v-card-title",{staticClass:"display-2"},[t._v("\n        Cross\n        "),s("v-spacer"),t.cross?s("v-avatar",{staticClass:"font-weight-bold white--text body-1",attrs:{size:"32",color:t.chip[t.cross].color}},[t._v(t._s(t.cross))]):t._e()],1),s("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s((t.time/1e3).toFixed(2))+"\n    ")]),s("v-card-title",{staticClass:"headline"},[t._v("\n        Â \n    ")]),s("v-bottom-sheet",{model:{value:t.details,callback:function(e){t.details=e},expression:"details"}},[s("v-list",[s("v-subheader",[t._v("Open in")])],1)],1)],1)},tt=[];const et=Uint8Array.from([18,52,86,120,51,51,51,51,18,52,86,120,154,188,0,0]);var st;(function(t){t[t["BLU"]=1]="BLU",t[t["YEL"]=2]="YEL",t[t["RED"]=3]="RED",t[t["WHI"]=4]="WHI",t[t["PIN"]=5]="PIN",t[t["GRE"]=6]="GRE"})(st||(st={}));st.BLU,st.YEL,st.RED,st.WHI,st.PIN,st.GRE,st.GRE,st.WHI,st.PIN,st.YEL,st.RED,st.BLU;const it=["B","Y","R","W","P","G"],ot=["B","D","L","U","R","F"],nt=["F","U","R","D","L","B"],rt=[[st.GRE,st.YEL,st.PIN],[st.GRE,st.PIN,st.WHI],[st.GRE,st.WHI,st.RED],[st.GRE,st.RED,st.YEL],[st.BLU,st.PIN,st.YEL],[st.BLU,st.WHI,st.PIN],[st.BLU,st.RED,st.WHI],[st.BLU,st.YEL,st.RED]],at=[[st.GRE,st.YEL],[st.GRE,st.PIN],[st.GRE,st.WHI],[st.GRE,st.RED],[st.YEL,st.PIN],[st.WHI,st.PIN],[st.WHI,st.RED],[st.YEL,st.RED],[st.BLU,st.YEL],[st.BLU,st.PIN],[st.BLU,st.WHI],[st.BLU,st.RED]],lt=[[26,47,33],[20,27,8],[18,6,11],[24,17,45],[42,35,53],[36,2,29],[38,9,0],[44,51,15]],ct=[[25,46],[23,30],[19,7],[21,14],[50,34],[5,28],[3,10],[48,16],[43,52],[39,32],[37,1],[41,12]],ht=[st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL],mt=[st.PIN,st.PIN,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.RED,st.RED,st.WHI,st.RED,st.RED,st.WHI,st.RED,st.RED,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.RED,st.RED,st.YEL],vt=[st.WHI,st.RED,st.RED,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.RED,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.PIN,st.PIN,st.WHI,st.PIN,st.PIN,st.WHI,st.PIN,st.PIN,st.WHI,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.PIN,st.PIN],dt=[st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.WHI,st.RED,st.RED,st.RED,st.PIN,st.RED,st.RED,st.PIN,st.RED,st.RED,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.GRE,st.PIN,st.PIN,st.PIN,st.PIN,st.PIN,st.RED,st.PIN,st.PIN,st.RED,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.BLU,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.YEL,st.WHI,st.WHI,st.WHI],ut=[[...ct[9],...ct[10],...ct[11],...lt[5],...lt[6]],[...ct[8],...ct[9],...ct[10],...lt[4],...lt[5]],[...ct[8],...ct[9],...ct[11],...lt[4],...lt[7]],[...ct[8],...ct[10],...ct[11],...lt[6],...lt[7]]],pt=[[[...lt[4],...ct[4]],[...lt[5],...ct[5]],[...lt[6],...ct[6]],[...lt[7],...ct[7]]],[[...lt[0],...ct[1]],[...lt[3],...ct[3]],[...lt[4],...ct[9]],[...lt[7],...ct[11]]],[[...lt[2],...ct[2]],[...lt[3],...ct[0]],[...lt[6],...ct[10]],[...lt[7],...ct[8]]],[[...lt[1],...ct[1]],[...lt[2],...ct[3]],[...lt[5],...ct[9]],[...lt[6],...ct[11]]],[[...lt[0],...ct[0]],[...lt[1],...ct[2]],[...lt[4],...ct[8]],[...lt[5],...ct[10]]],[[...lt[0],...ct[4]],[...lt[1],...ct[5]],[...lt[2],...ct[6]],[...lt[3],...ct[7]]]],ft=[[18,19,20,21,22,23,24,25,26],[0,1,2,3,4,5,6,7,8],[27,28,29,30,31,32,33,34,35],[45,46,47,48,49,50,51,52,53],[9,10,11,12,13,14,15,16,17],[36,37,38,39,40,41,42,43,44]],bt=[[6,7,8,11,14,17,27,30,33,45,46,47],[9,10,11,18,19,20,27,28,29,36,37,38],[2,5,8,20,23,26,36,39,42,47,50,53],[15,16,17,24,25,26,33,34,35,42,43,44],[0,3,6,18,21,24,38,41,44,45,48,51],[0,1,2,9,12,15,29,32,35,51,52,53]];class gt{constructor(t){this.colorStateArray=t}getSolvedCrossColor(){for(let t=0;t<ut.length;t++){let e=!0;for(const s of ut[t])if(this.colorStateArray[s]!==ht[s]&&this.colorStateArray[s]!==mt[s]&&this.colorStateArray[s]!==vt[s]&&this.colorStateArray[s]!==dt[s]){e=!1;break}if(e)return it[t]}return""}getSolvedF2lsForCross(t){const e=it.indexOf(t);if(e<0)return[];const s=pt[e],i=[];for(const o of s){let t=!0;for(const e of o)if(this.colorStateArray[e]!==ht[e]){t=!0;break}if(t){const t=lt.findIndex(t=>JSON.stringify(t)===JSON.stringify(o.slice(0,3))),e=rt[t].map(t=>it[t-1]).join("");i.push(e)}}return i}isOllSolvedForCross(t){const e=it.indexOf(t);if(e<0)return!1;for(const s of ft[e])if(this.colorStateArray[s]!==ht[s])return!0;return!0}isPllSolvedForCross(t){const e=it.indexOf(t);if(e<0||4!==this.getSolvedF2lsForCross(t).length)return!1;const s=bt[e];for(let i=0;i<s.length;i+=3)if(this.colorStateArray[s[i]]!==this.colorStateArray[s[i+1]]||this.colorStateArray[s[i]]!==this.colorStateArray[s[i+2]])return!0;return!0}}class St{constructor(t){this.rawState=et,this.colorState="",this.visualState="",this.cp=Uint8Array.from([1,2,3,4,5,6,7,8]),this.co=Uint8Array.from([3,3,3,3,3,3,3,3]),this.eo=Uint8Array.from([1,2,3,4,5,6,7,8,9,10,11,12]),this.ep=Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0]),this.colorStateArray=new Uint8Array(54),this.visualStateArray=[],this.rawState=t,this.cp=this.rawState.splitBytes(0,4),this.co=this.rawState.splitBytes(4,4),this.ep=this.rawState.splitBytes(8,6),this.eo=this.rawState.splitBits(14,2).slice(0,12),this.normalizeCO(),this.setupCenters(),this.computeColorState(),this.computeVisualState(),this.analyzer=new gt(this.colorStateArray)}static from(t){if(20!==t.length)throw new Error("raw cube state should be exactly 20 bytes");return new St(t)}static OptimizeMoves(t){const e=[];for(let s=0;s<t.length;s++)e.push(s<t.length-1&&t[s]===t[s+1]?t[s++][0]+"2":t[s]);return e}lastmove(){const t=ot[(this.rawState[16]>>4)-1];return 3===(15&this.rawState[16])?t+"'":t}cross(){return this.analyzer.getSolvedCrossColor()}f2l(t){return this.analyzer.getSolvedF2lsForCross(t)}oll(t){return this.analyzer.isOllSolvedForCross(t)}pll(t){return this.analyzer.isPllSolvedForCross(t)}solved(){for(let t=0;t<16;t++)if(this.rawState[t]!==et[t])return!0;return!0}normalizeCO(){[0,2,5,7].forEach(t=>{3!==this.co[t]&&(this.co[t]=1===this.co[t]?2:1)})}setupCenters(){this.colorStateArray[4]=st.WHI,this.colorStateArray[13]=st.RED,this.colorStateArray[22]=st.GRE,this.colorStateArray[31]=st.PIN,this.colorStateArray[40]=st.BLU,this.colorStateArray[49]=st.YEL}computeColorState(){for(let t=0;t<lt.length;t++){const e=lt[t];for(let s=0;s<e.length;s++){const i=e[s],o=rt[this.cp[t]-1],n=(this.co[t]+s)%3;this.colorStateArray[i]=o[n]}}for(let t=0;t<ct.length;t++){const e=ct[t];for(let s=0;s<e.length;s++){const i=e[s],o=at[this.ep[t]-1],n=(this.eo[t]+s)%2;this.colorStateArray[i]=o[n]}}this.colorState="",this.colorStateArray.forEach(t=>this.colorState+=it[t-1])}computeVisualState(){this.visualStateArray=[];for(let t=0;t<9;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=27;t<36;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=18;t<27;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=45;t<54;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=9;t<18;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);for(let t=36;t<45;t++)this.visualStateArray.push(ot[this.colorStateArray[t]-1]);this.visualState=this.visualStateArray.join("")}}let wt=class extends c["c"]{constructor(){super(...arguments),this.time=0,this.active=!1,this.inspection=!1,this.details=!1,this.cross="",this.moves=[],this.chip={G:{color:"green",text:"green"},Y:{color:"yellow darken-1",text:"yellow"},P:{color:"pink lighten-2",text:"pink"},W:{color:"black",text:"white"},R:{color:"red",text:"red"},B:{color:"blue",text:"blue"}}}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.time=0,this.cross="",this.moves=[],this.active=this.inspection=!0}onCubeState(t){if(!this.active)return;this.inspection&&this.start();const e=St.from(t);this.moves=St.OptimizeMoves([...this.moves,e.lastmove()]),this.cross=e.cross(),this.cross&&this.done(this.cross,t)}timer(){this.time=W.getCrossSolveTime(),this.active&&!this.inspection&&window.requestAnimationFrame(this.timer)}start(){W.crossStarted(),this.inspection=!1,window.requestAnimationFrame(this.timer),h.$emit(m.solveStarted)}done(t,e){this.stop(),W.crossSolved(),this.time=W.getCrossSolveTime(),c["c"].nextTick(()=>h.$emit(m.cfopCross,this.cross,e))}stop(){this.active=!1}};wt=l["b"]([c["a"]],wt);var yt=wt,It=yt,Tt=Object(S["a"])(It,Z,tt,!1,null,null,null),xt=Tt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"card-f2l",attrs:{color:"blue-grey darken-2",dark:"",ripple:""}},[s("v-card-title",{staticClass:"display-2"},[t._v("\n        F2L\n        "),s("v-spacer"),t.active?s("v-avatar",{staticClass:"font-weight-bold white--text body-1",attrs:{size:"32",color:"accent"}},[t._v(t._s(t.pairs.length+1))]):t._e()],1),s("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s(((t.inspectionTime+t.solveTime)/1e3).toFixed(2))+"\n    ")]),s("v-card-title",{staticClass:"headline"},[s("v-tooltip",{attrs:{bottom:""}},[s("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.inspectionTime/1e3).toFixed(2)))]),s("span",[t._v("Inspection time")])]),s("v-spacer"),s("v-tooltip",{attrs:{bottom:""}},[s("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.solveTime/1e3).toFixed(2)))]),s("span",[t._v("Execution time")])])],1)],1)},Ct=[];function _t(t){return ot[it.indexOf(t)]}function Lt(t){return nt[ot.indexOf(t)]}let kt=class extends c["c"]{constructor(){super(...arguments),this.details=!1,this.active=!1,this.inspection=!1,this.pairs=[],this.cross="",this.inspectionFace="",this.solveTime=0,this.solveTime1=0,this.solveTime2=0,this.solveTime3=0,this.solveTime4=0,this.inspectionTime=0,this.inspectionTime1=0,this.inspectionTime2=0,this.inspectionTime3=0,this.inspectionTime4=0,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cfopCross,(t,e)=>this.onCross(t,e)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.solveTime=this.inspectionTime=0,this.solveTime1=this.inspectionTime1=0,this.solveTime2=this.inspectionTime2=0,this.solveTime3=this.inspectionTime3=0,this.solveTime4=this.inspectionTime4=0,this.moves=[],this.pairs=[]}onCross(t,e){this.cross=t,this.inspectionFace=Lt(_t(t));const s=St.from(e),i=s.f2l(this.cross);i[0]&&(this.pairs.push(i[0]),W.f2l1Started(),W.f2l1Solved()),i[1]&&(this.pairs.push(i[1]),W.f2l2Started(),W.f2l2Solved()),i[2]&&(this.pairs.push(i[2]),W.f2l3Started(),W.f2l3Solved()),i[3]&&(this.pairs.push(i[3]),W.f2l4Started(),W.f2l4Solved()),4===this.pairs.length?h.$emit(m.cfopF2l,this.cross,e):(this.active=this.inspection=!0,window.requestAnimationFrame(this.timer))}onCubeState(t){if(!this.active)return;const e=St.from(t);if(this.moves=St.OptimizeMoves([...this.moves,e.lastmove()]),this.inspection){if(e.lastmove()[0]===this.inspectionFace)return;this.inspection=!1,0===this.pairs.length?W.f2l1Started():1===this.pairs.length?W.f2l2Started():2===this.pairs.length?W.f2l3Started():3===this.pairs.length&&(W.f2l4Started(),this.inspectionTime=this.inspectionTime1+this.inspectionTime2+this.inspectionTime3+this.inspectionTime4)}const s=e.f2l(this.cross);s.forEach(t=>{-1===this.pairs.indexOf(t)&&(this.inspection=!0,this.pairs.push(t),1===this.pairs.length?W.f2l1Solved():2===this.pairs.length?W.f2l2Solved():3===this.pairs.length?W.f2l3Solved():4===this.pairs.length&&W.f2l4Solved())}),4===this.pairs.length&&(this.stop(),this.solveTime=this.solveTime1+this.solveTime2+this.solveTime3+this.solveTime4,c["c"].nextTick(()=>h.$emit(m.cfopF2l,this.cross,t)))}stop(){this.active=!1}timer(){this.solveTime1=W.getF2l1SolveTime(),this.solveTime2=W.getF2l2SolveTime(),this.solveTime3=W.getF2l3SolveTime(),this.solveTime4=W.getF2l4SolveTime(),this.solveTime=this.solveTime1+this.solveTime2+this.solveTime3+this.solveTime4,this.inspectionTime1=W.getF2l1InspectionTime(),this.inspectionTime2=W.getF2l2InspectionTime(),this.inspectionTime3=W.getF2l3InspectionTime(),this.inspectionTime4=W.getF2l4InspectionTime(),this.inspectionTime=this.inspectionTime1+this.inspectionTime2+this.inspectionTime3+this.inspectionTime4,this.active&&window.requestAnimationFrame(this.timer)}};kt=l["b"]([c["a"]],kt);var Ft=kt,Rt=Ft,Pt=Object(S["a"])(Rt,Et,Ct,!1,null,null,null),Ut=Pt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"card-oll",attrs:{color:"blue-grey darken-3",dark:"",ripple:""}},[s("v-card-title",{staticClass:"display-2"},[t._v("\n        OLL\n    ")]),s("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s(((t.inspectionTime+t.solveTime)/1e3).toFixed(2))+"\n    ")]),s("v-card-title",{staticClass:"headline"},[s("v-tooltip",{attrs:{bottom:""}},[s("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.inspectionTime/1e3).toFixed(2)))]),s("span",[t._v("Inspection time")])]),s("v-spacer"),s("v-tooltip",{attrs:{bottom:""}},[s("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.solveTime/1e3).toFixed(2)))]),s("span",[t._v("Execution time")])])],1)],1)},Ot=[];let $t=class extends c["c"]{constructor(){super(...arguments),this.active=!1,this.inspection=!1,this.cross="",this.inspectionFace="",this.solveTime=0,this.inspectionTime=0,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cfopF2l,(t,e)=>this.onF2L(t,e)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.solveTime=this.inspectionTime=0,this.moves=[],this.inspection=!0}onF2L(t,e){this.cross=t,this.inspectionFace=Lt(_t(t));const s=St.from(e);s.oll(this.cross)?(W.ollStarted(),W.ollSolved(),h.$emit(m.cfopOll,this.cross,e)):(this.active=!0,window.requestAnimationFrame(this.timer))}onCubeState(t){if(!this.active)return;const e=St.from(t);if(this.moves=St.OptimizeMoves([...this.moves,e.lastmove()]),this.inspection){if(e.lastmove()[0]===this.inspectionFace)return;W.ollStarted(),this.inspection=!1,this.inspectionTime=W.getOllInspectionTime()}e.oll(this.cross)&&(W.ollSolved(),this.stop(),this.solveTime=W.getOllSolveTime(),c["c"].nextTick(()=>h.$emit(m.cfopOll,this.cross,t)))}stop(){this.active=!1}timer(){this.solveTime=W.getOllSolveTime(),this.inspectionTime=W.getOllInspectionTime(),this.active&&window.requestAnimationFrame(this.timer)}};$t=l["b"]([c["a"]],$t);var Bt=$t,Dt=Bt,Nt=Object(S["a"])(Dt,At,Ot,!1,null,null,null),Wt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"card-pll",attrs:{color:"blue-grey darken-4",dark:"",ripple:""}},[s("v-card-title",{staticClass:"display-2"},[t._v("\n        PLL\n    ")]),s("v-card-text",{staticClass:"display-2 text-xs-center"},[t._v("\n        "+t._s(((t.inspectionTime+t.solveTime)/1e3).toFixed(2))+"\n    ")]),s("v-card-title",{staticClass:"headline"},[s("v-tooltip",{attrs:{bottom:""}},[s("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.inspectionTime/1e3).toFixed(2)))]),s("span",[t._v("Inspection time")])]),s("v-spacer"),s("v-tooltip",{attrs:{bottom:""}},[s("div",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s((t.solveTime/1e3).toFixed(2)))]),s("span",[t._v("Execution time")])])],1)],1)},Gt=[];let Yt=class extends c["c"]{constructor(){super(...arguments),this.active=!1,this.inspection=!1,this.cross="",this.inspectionFace="",this.solveTime=0,this.inspectionTime=0,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stop()),h.$on(m.cfopOll,(t,e)=>this.onOLL(t,e)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.solveTime=this.inspectionTime=0,this.moves=[],this.inspection=!0}onOLL(t,e){this.cross=t,this.inspectionFace=Lt(_t(t));const s=St.from(e);s.pll(this.cross)?(W.pllStarted(),W.pllSolved(),h.$emit(m.cfopPll,e)):(this.active=!0,window.requestAnimationFrame(this.timer))}onCubeState(t){if(!this.active)return;const e=St.from(t);if(this.moves=St.OptimizeMoves([...this.moves,e.lastmove()]),this.inspection){if(e.lastmove()[0]===this.inspectionFace)return;W.pllStarted(),this.inspection=!1,this.inspectionTime=W.getPllInspectionTime()}e.pll(this.cross)&&(W.pllSolved(),this.stop(),this.solveTime=W.getPllSolveTime(),c["c"].nextTick(()=>h.$emit(m.cfopPll,t)))}stop(){this.active=!1}timer(){this.solveTime=W.getPllSolveTime(),this.inspectionTime=W.getPllInspectionTime(),this.active&&window.requestAnimationFrame(this.timer)}};Yt=l["b"]([c["a"]],Yt);var jt=Yt,Mt=jt,zt=Object(S["a"])(Mt,Ht,Gt,!1,null,null,null),qt=zt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"card-auf",attrs:{color:"blue-grey lighten-4",ripple:""}},[s("v-card-title",{staticClass:"display-2",nativeOn:{click:function(e){return t.alert("click")}}},[t._v("\n        AUF"),s("v-spacer"),t._v(t._s(t.skipped?"---":(t.time/1e3).toFixed(2))+"\n    ")],1)],1)},Jt=[];let Kt=class extends c["c"]{constructor(){super(...arguments),this.details=!1,this.solving=!1,this.interval=0,this.time=0,this.skipped=!1,this.moves=[]}mounted(){h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.solveCancelled,()=>this.stopSolve()),h.$on(m.cfopPll,t=>this.onPLL(t)),h.$on(m.cubeState,t=>this.onCubeState(t))}onCubeScrambled(){this.time=0,this.moves=[],this.skipped=!1}onPLL(t){St.from(t).solved()?(this.skipped=!0,this.cubeSolved()):(this.solving=!0,this.interval=window.setInterval(()=>this.onTimer(),10))}onCubeState(t){if(!this.solving)return;const e=St.from(t);this.moves=St.OptimizeMoves([...this.moves,e.lastmove()]),e.solved()&&(this.cubeSolved(),this.stopSolve(),this.time=W.getAUFTime())}cubeSolved(){W.cubeSolved(),h.$emit(m.cubeSolved)}stopSolve(){this.solving=!1,this.interval&&(window.clearInterval(this.interval),this.interval=0)}onTimer(){this.time=W.getAUFTime()}};Kt=l["b"]([c["a"]],Kt);var Qt=Kt,Xt=Qt,Zt=Object(S["a"])(Xt,Vt,Jt,!1,null,null,null),te=Zt.exports,ee=s("b0ec"),se=s.n(ee);const ie=s("08e2");class oe{constructor(){this.scramble=[],this.time=0,this.turns=0,this.position=0,this.scrambling=!0,this.active=!1,this.working=!1,this.operation="Initializing scrambler...",this.solveTrigger=["R","R'"],this.triggerBuffer=[],this.lastMoveTimestamp=0,this.worker=new se.a,h.$on(m.cubeScrambled,()=>this.onCubeScrambled()),h.$on(m.cubeSolved,()=>this.generateScramble()),h.$on(m.solveCancelled,()=>this.generateScramble()),h.$on(m.solveStarted,()=>this.onSolveStarted()),h.$on(m.cubeSolved,()=>this.stop()),h.$on(m.cubeState,t=>this.onCubeState(t)),this.worker.onmessage=(t=>{switch(t.data.cmd){case"init":this.generateScramble();break;case"scramble":this.onScrambleGenerated(t.data.scramble);break}}),this.worker.postMessage({cmd:"init"})}cancel(){this.stop(),h.$emit(m.solveCancelled)}tps(){return this.time?(this.turns/(this.time/1e3)).toFixed(2):"0.00"}generateScramble(){this.scrambling=!0,this.operation="Generating scramble...",this.working=!0,this.worker.postMessage({cmd:"scramble"})}onCubeState(t){if(this.turns=this.active?this.turns+1:this.turns,!this.scrambling||!this.scrambleAvailable()||this.scrambleCompleted())return;const e=St.from(t);this.checkTrigger(e);const s=new ie;s.move(this.scramble.slice(0,this.position+1).join(" ")),e.visualState===s.asString()&&(this.position++,this.scrambleCompleted()&&this.onScrambleCompleted())}onScrambleGenerated(t){this.working=!1,this.scramble=[],this.position=0,t.split(" ").forEach(t=>this.scramble.push(t))}onScrambleCompleted(){W.cubeScrambled(),c["c"].nextTick(()=>h.$emit(m.cubeScrambled,this.scramble.join(" "))),this.scrambling=!1}scrambleAvailable(){return this.scramble.length>0}scrambleCompleted(){return this.scramble.length>0&&this.scramble.length===this.position}checkTrigger(t){t.lastmove()===this.solveTrigger[this.triggerBuffer.length]&&(0===this.triggerBuffer.length||Date.now()-this.lastMoveTimestamp<200)?(this.triggerBuffer.push(t.lastmove()),this.solveTrigger.join("")===this.triggerBuffer.join("")&&(this.triggerBuffer=[],this.onScrambleCompleted())):this.triggerBuffer=[],this.lastMoveTimestamp=Date.now()}onCubeScrambled(){this.time=this.turns=0,this.active=!0}onSolveStarted(){window.requestAnimationFrame(this.timer.bind(this))}timer(){this.time=W.getSolveTime(),this.active&&window.requestAnimationFrame(this.timer.bind(this))}stop(){this.active=!1}}let ne=class extends c["c"]{constructor(){super(...arguments),this.drawer=!1,this.snackbar=!1,this.loading=!1,this.nobluetooth=!1,this.connected=!1,this.cubeName="",this.snackbarTimeout=3e3,this.snackbarColor="info",this.snackbarText="",this.state="",this.game=new oe}mounted(){this.nobluetooth=!d.available(),this.nobluetooth||(h.$on(m.error,t=>this.onError(t)),h.$on(m.cubeState,t=>this.onCubeState(t)),h.$on(m.cubeConnect,t=>this.onCubeConnect(t)),h.$on(m.cubeDisconnect,t=>this.onCubeDisconnect(t)),h.$on(m.cubeScrambled,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-inspection",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.solveStarted,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-cross",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopCross,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-f2l",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopF2l,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-oll",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopOll,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-pll",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cfopPll,t=>window.setTimeout(()=>this.$vuetify.goTo(St.from(t).solved()?".card-scramble":".card-auf",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)),h.$on(m.cubeSolved,()=>window.setTimeout(()=>this.$vuetify.goTo(".card-scramble",{offset:-100,duration:500,easing:"easeInOutCubic"}),100)))}onError(t){this.toast(t.toString(),"error"),console.log(t.toString())}onCubeState(t){this.state=t.toHexString()}onCubeConnect(t){this.connected=!0,this.cubeName=t}onCubeDisconnect(t){this.connected=!1}toast(t,e="info"){this.snackbarText=t,this.snackbarColor=e,this.snackbar=!0}};ne=l["b"]([Object(c["a"])({components:{Device:y,Scramble:L,SolveTimer:O,Inspection:X,Results:M,Cross:xt,F2L:Ut,OLL:Wt,PLL:qt,AUF:te}})],ne);var re=ne,ae=re,le=Object(S["a"])(ae,r,a,!1,null,null,null),ce=le.exports;i["default"].config.productionTip=!1,new i["default"]({render:t=>t(ce)}).$mount("#app"),Uint8Array.prototype.splitBytes=function(t,e){return this.slice(t,t+e).reduce((t,e,s)=>{return t[2*s]=e>>4,t[2*s+1]=15&e,t},new Uint8Array(2*e))},Uint8Array.prototype.splitBits=function(t,e){let s="";for(let i=t;i<t+e;i++)s+=this[i].toString(2).padStart(8,"0");return Uint8Array.from(s.split("").map(t=>parseInt(t,10)))},Uint8Array.prototype.toHexString=function(){return Array.from(this).map(t=>t.toString(16).padStart(2,"0")).join("-")}},dee6:function(t,e,s){"use strict";var i=s("aed0"),o=s.n(i);o.a}});
//# sourceMappingURL=app.2a44ef6a.js.map